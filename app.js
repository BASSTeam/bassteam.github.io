(()=>{'use strict';function a(i,j){Object.defineProperty(window,i,{writable:!1,configurable:!1,enumerable:!0,value:j})}function b(i){var j=new XMLHttpRequest;return new Promise((k,l)=>{j.open('GET',i,!0),j.onreadystatechange=()=>{4!=j.readyState||(200==j.status?k(j.responseText):l(new Error(`Cannot get requested module from ${i}. Error ${j.status}: ${j.statusText}`)))},j.send()})}const d=Object.getPrototypeOf(async()=>{}).constructor,f=/^(\w+):\/\//,g=(i=>{return`${i[i.length-3]}://${i[i.length-2]}`})(new Error('').stack.split(/(\w+):\/\/(\S+):\d+:\d+/)),h=(i=>{return i.pop(),i.join('/')})(g.split('/'));a('require',async function(i){var j,k=i.split('/'),l=(this||{}).constructor===String?`${this}`:h;k.pop();try{j=await b(f.test(i)?i:`${l}/${i}`)}catch(m){throw console.warn('Download error [[Need to handle next error]]:'),m}return await new d(`const[__filename,__dirname]=${JSON.stringify([i,k.join('/')])},module={exports:{}},exports=new Proxy(module.exports,{}),require=url=>window.require.apply(__dirname,[url]);try{await(async()=>{\n${j}\n})();}catch(e){console.warn('Eval error [[Need to handle next error]]:');throw e}return module.exports`)()}),a('__filename',g),a('__dirname',h)})();(async()=>{const e=(()=>{var e={};return class{constructor(t){this.id=Symbol("[[ThreadIdentifier]]"),this.Promise=t(),e[this.id]=this.Promise}static getById(t){return e[t]}}})(),t=new class{post(e,t,n="application/json"){var a=new XMLHttpRequest;return new Promise((s,r)=>{a.open("POST",e,!0),a.setRequestHeader("Content-Type",n),a.onreadystatechange=(()=>{4==a.readyState&&(200!=a.status?r(new Error(`Cannot post to requested url. Error ${a.status}: ${a.statusText}`)):s(a.responseText))}),a.send(t)})}get(e){var t=new XMLHttpRequest;return new Promise((n,a)=>{t.open("GET",e,!0),t.onreadystatechange=(()=>{4==t.readyState&&(200!=t.status?a(new Error(`Cannot post to requested url. Error ${t.status}: ${t.statusText}`)):n(t.responseText))}),t.send()})}},n=(()=>{var e="https://bassteam-proxy.herokuapp.com/sendLog";async function n(n){await t.post(e,JSON.stringify(n))}return new class{constructor(){this.err=this.error}async log(e){await n({type:"log",message:e})}async warn(e){await n({type:"warn",message:e})}async error(e){await n({type:"error",message:e})}}})();new e(async()=>{const[e]=await Promise.all([require("/router.js")]),t={body:document.getElementById("body"),head:document.head};function a(e){var t=e.search.slice(1),n={};return t&&t.split("&").forEach(e=>{e=e.split("="),n[decodeURIComponent(e.shift())]=decodeURIComponent(e.join("="))}),n}const{disableLoadingAnim:s,enableLoadingAnim:r}=(()=>{var e=document.getElementById("loading-anim");return{disableLoadingAnim:()=>(e.style.opacity=0,new Promise(t=>{setTimeout(()=>{e.style.display="none",t()},500)})),enableLoadingAnim:()=>(e.style.display="none",e.style.opacity=1,new Promise(e=>setTimeout(()=>e,500)))}})();await async function o(i,d){r(),n.log(`Routing to ${i}...`),history.pushState(null,null,i);const{head:c,body:l}=await e(i,d);t.head.innerHTML=c.node.innerHTML,t.body.innerHTML=l.node.innerHTML,t.body.querySelectorAll("a").forEach(e=>{e.addEventListener("click",e=>{e.preventDefault(),o(e.target.pathname,a(e.target)).then(s)})})}(location.pathname||"/",a(location)),await s()})})();